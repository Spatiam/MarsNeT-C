.\" Automatically generated by Pod::Man 2.27 (Pod::Simple 3.28)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
.    ds C`
.    ds C'
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.\"
.\" Avoid warning from groff about undefined register 'F'.
.de IX
..
.nr rF 0
.if \n(.g .if rF .nr rF 1
.if (\n(rF:(\n(.g==0)) \{
.    if \nF \{
.        de IX
.        tm Index:\\$1\t\\n%\t"\\$2"
..
.        if !\nF==2 \{
.            nr % 0
.            nr F 2
.        \}
.    \}
.\}
.rr rF
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "IPND 1"
.TH IPND 1 "2020-09-24" "perl v5.16.3" "BP executables"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "NAME"
ipnd \- ION IPND module
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
The \fBipnd\fR daemon is the \s-1ION\s0 implementation of \s-1DTN IP\s0 Neighbor Discovery.
This module allows the node to send and receive beacon messages using 
unicast, multicast or broadcast \s-1IP\s0 addresses. Beacons are used for the
discovery of neighbors and may be used to advertise services that are 
present and available on nodes, such as routing algorithms or CLAs.
.PP
\&\s-1ION IPND\s0 module is configured using a *.rc configuration file.  The name of
the configuration file must be passed as the sole command-line argument to
\&\fBipnd\fR when the daemon is started.  Commands are interpreted line by line,
with exactly one command per line.  The formats and effects of the \s-1ION
\&\s0\fBipnd\fR management commands are described below.
.SH "USAGE"
.IX Header "USAGE"
ipnd \fIconfig_file_name\fR
.SH "COMMANDS"
.IX Header "COMMANDS"
.IP "\fB1\fR" 4
.IX Item "1"
The \fBinitialize\fR command.  This must be the first command.
.IP "\fB#\fR" 4
.IX Item "#"
Comment line.  Lines beginning with \fB#\fR are not interpreted.
.IP "\fBe\fR { 1 | 0 }" 4
.IX Item "e { 1 | 0 }"
Echo control.  Setting echo to 1 causes all output printed by ipnd to
be logged into ion.log.  Setting echo to 0 disables this behavior.
Default is 1.
.IP "\fBm eid\fR \fIeid\fR" 4
.IX Item "m eid eid"
Local eid. This command sets the advertised \s-1BP\s0 endpoint \s-1ID\s0 by which the
node will identify itself in beacon messages.
.IP "\fBm announce period\fR { 1 | 0 }" 4
.IX Item "m announce period { 1 | 0 }"
Announce period control. Setting to 1 causes all beacons messages sent
to contain beacon period. Setting to 0 disables this behavior.
Default is 1.
.IP "\fBm announce eid\fR { 1 | 0 }" 4
.IX Item "m announce eid { 1 | 0 }"
Announce eid control. Setting to 1 causes all beacons messages sent to
contain source eid. Setting to 0 disables this behavior. This should be 
always set to 1. Default is 1.
.IP "\fBm interval unicast\fR \fIinterval\fR" 4
.IX Item "m interval unicast interval"
Unicast interval. This command sets the beacon messages period on unicast 
transmissions. Time interval is expressed in seconds. Default is 5.
.IP "\fBm interval multicast\fR \fIinterval\fR" 4
.IX Item "m interval multicast interval"
Multicast interval. This command sets the beacon messages period on multicast 
transmissions. Time interval is expressed in seconds. Default is 7.
.IP "\fBm interval broadcast\fR \fIinterval\fR" 4
.IX Item "m interval broadcast interval"
Broadcastcast interval. This command sets the beacon messages period on
broadcast transmissions. Time interval is expressed in seconds. Default is 11.
.IP "\fBm multicast ttl\fR \fIttl\fR" 4
.IX Item "m multicast ttl ttl"
Multicast ttl. This command sets the multicast outgoing beacon messages'
time to live, in seconds. Default is 255.
.IP "\fBm svcdef\fR \fIid\fR \fIname\fR \fIchild_name\fR:\fIchild_type\fR ..." 4
.IX Item "m svcdef id name child_name:child_type ..."
Service definition. This command specifies definitions of \*(L"services\*(R", which
are dynamically defined beacon message data structures indicating the
capabilities of the beacon message sender.  \fIid\fR is a service-identifying
number in the range 128\-255. \fIname\fR is the name of the service type that
is being defined. The definition of the structure of the service is a sequence
of elements, each of which is a \fIname\fR\fB:\fR\fItype\fR pair.  Each \fIchild_type\fR
must be the name of a standard or previously defined service type.  Infinite
recursion is supported.
.IP "\fBa svcadv\fR \fIname\fR \fIchild_name\fR:\fIchild_value\fR ..." 4
.IX Item "a svcadv name child_name:child_value ..."
Service advertising command. This command defines which services will 
be advertised and with which values. All types of formats for values 
are supported (e.g. 999, 0345 (octal), 0x999 (hex), \-1e\-9, 0.32, etc.).
For a service that contains only a single element, it is not necessary to
provide that element's name.  E.g. it is enough to write Booleans:true
instead of Booleans:BooleanValues:B:true, as BooleanValues is the only
child of Booleans and B is the only child of BooleanValues.
.IP "\fBa listen\fR \fIIP_address\fR" 4
.IX Item "a listen IP_address"
Listen socket specification command. This command asserts, in the form
\&\fIIP_address\fR, the \s-1IP\s0 address of the socket at which the \s-1IPND\s0 daemon is to
listen for incoming beacons; a default port number is used. The address can
be an unicast, a multicast or a broadcast address. If a multicast address is
provided all the configured unicast addresses will listen for multicast packets 
in that group. If a broadcast address is provided all the unicast 
addresses will listen for broadcasted packets.
.IP "\fBa destination\fR \fIdestination_socket_spec\fR" 4
.IX Item "a destination destination_socket_spec"
Destination socket specification command. This command asserts the
specification for a socket to which the \s-1IPND\s0 daemon is to send beacons. It
can be an unicast, a multicast or a broadcast address.
.IP "\fBs\fR" 4
.IX Item "s"
The \fBstart\fR command.  This command starts the \s-1IPND\s0 daemon for the local
\&\s-1ION\s0 node.
.SH "EXAMPLES"
.IX Header "EXAMPLES"
m scvdef 128 FooRouter Seed:SeedVal BaseWeight:WeightVal RootHash:bytes
.PP
Defines a new service called FooRouter comprising 3 elements. SeedVal 
and WeightVal are user defined services that must be already defined.
.PP
m svcdef 129 SeedVal   Value:fixed16
.PP
m svcdef 130 WeightVal Value:fixed16
.PP
m svcdef 128 FooRouter Seed:SeedVal BaseWeight:WeightVal RootHash:bytes
.PP
m svcdef 150 FixedValuesList F16:fixed16 F32:fixed32 F64:fixed64
.PP
m svcdef 131 VariableValuesList U64:uint64 S64:sint64
.PP
m svcdef 132 BooleanValues B:boolean
.PP
m svcdef 133 FloatValuesList F:float D:double
.PP
m svcdef 135 IntegersList FixedValues:FixedValuesList VariableValues:VariableValuesList
.PP
m svcdef 136 NumbersList Integers:IntegersList Floats:FloatValuesList
.PP
m svcdef 140 HugeService CLAv4:CLA\-TCP\-v4 Booleans:BooleanValues Numbers:NumbersList FR:FooRouter
.PP
a svcadv HugeService CLAv4:IP:10.1.0.10 CLAv4:Port:4444 Booleans:true FR:Seed:0x5432 FR:BaseWeight:13 FR:RootHash:BEEF Numbers:Integers:FixedValues:F16:0x16 Numbers:Integers:FixedValues:F32:0x32 Numbers:Integers:FixedValues:F64:0x1234567890ABCDEF Numbers:Floats:F:0.32 Numbers:Floats:D:\-1e\-6 Numbers:Integers:VariableValues:U64:18446744073704783380 Numbers:Integers:VariableValues:S64:\-4611686018422619668
.PP
This shows how to define multiple nested services and how to advertise them.
.SH "SEE ALSO"
.IX Header "SEE ALSO"
\&\fIion\fR\|(3)
