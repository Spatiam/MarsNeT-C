.\" Automatically generated by Pod::Man 2.27 (Pod::Simple 3.28)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
.    ds C`
.    ds C'
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.\"
.\" Avoid warning from groff about undefined register 'F'.
.de IX
..
.nr rF 0
.if \n(.g .if rF .nr rF 1
.if (\n(rF:(\n(.g==0)) \{
.    if \nF \{
.        de IX
.        tm Index:\\$1\t\\n%\t"\\$2"
..
.        if !\nF==2 \{
.            nr % 0
.            nr F 2
.        \}
.    \}
.\}
.rr rF
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "IPNRC 5"
.TH IPNRC 5 "2020-10-03" "perl v5.16.3" "BP configuration files"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "NAME"
ipnrc \- IPN scheme configuration commands file
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
\&\s-1IPN\s0 scheme configuration commands are passed to \fBipnadmin\fR either in a file of
text lines or interactively at \fBipnadmin\fR's command prompt (:).  Commands
are interpreted line-by line, with exactly one command per line.
.PP
\&\s-1IPN\s0 scheme configuration commands (a) establish egress plans for direct
transmission to neighboring nodes that are members of endpoints identified
in the \*(L"ipn\*(R" \s-1URI\s0 scheme and (b) establish static default routing rules
for forwarding bundles to specified destination nodes.
.PP
The egress \fBplan\fR established for a given node associates a \fBduct expression\fR
with that node.  Each duct expression is a string of the form
"\fIprotocol_name\fR/\fIoutduct_name\fR" signifying that the bundle is to be
queued for transmission via the indicated convergence layer protocol outduct.
.PP
Note that egress plans \fBmust\fR be established for all neighboring nodes,
regardless of whether or not contact graph routing is used for computing
dynamic routes to distant nodes.  This is by definition: if there isn't
an egress plan to a node, it can't be considered a neighbor.
.PP
Static default routes are declared as \fBexits\fR in the ipn-scheme routing
database.  An exit is a range of node numbers identifying a set of nodes
for which defined default routing behavior is established.  Whenever a
bundle is to be forwarded to a node whose number is in the exit's node
number range \fBand\fR it has not been possible to compute a dynamic route
to that node from the contact schedules that have been provided to the
local node \fBand\fR that node is not a neighbor to which the bundle can
be directly transmitted, \s-1BP\s0 will forward the bundle to the \fBgateway\fR node
associated with this exit.  The gateway node for any exit is identified
by an endpoint \s-1ID,\s0 which might or might not be an ipn-scheme \s-1EID\s0; regardless,
directing a bundle to the gateway for an exit causes the bundle to be
re-forwarded to that intermediate destination endpoint.  Multiple exits
may encompass the same node number, in which case the gateway associated
with the most restrictive exit (the one with the smallest range) is
always selected.
.PP
\&\fBNote\fR that \*(L"exits\*(R" were termed \*(L"groups\*(R" in earlier versions of \s-1ION. \s0 The
term \*(L"exit\*(R" has been adopted instead, to minimize any possible confusion
with multicast groups.  To protect backward compatibility, the keyword
\&\*(L"group\*(R" continues to be accepted by ipnadmin as an alias for the new keyword
\&\*(L"exit\*(R", but the older terminology is deprecated.
.PP
The formats and effects of the \s-1IPN\s0 scheme configuration commands are
described below.
.SH "GENERAL COMMANDS"
.IX Header "GENERAL COMMANDS"
.IP "\fB?\fR" 4
.IX Item "?"
The \fBhelp\fR command.  This will display a listing of the commands and their
formats.  It is the same as the \fBh\fR command.
.IP "\fB#\fR" 4
.IX Item "#"
Comment line.  Lines beginning with \fB#\fR are not interpreted.
.IP "\fBe\fR { 1 | 0 }" 4
.IX Item "e { 1 | 0 }"
Echo control.  Setting echo to 1 causes all output printed by ipnadmin to be
logged as well as sent to stdout.  Setting echo to 0 disables this behavior.
.IP "\fBv\fR" 4
.IX Item "v"
Version number.  Prints out the version of \s-1ION\s0 currently installed.  \s-1HINT:\s0
combine with \fBe 1\fR command to log the version number at startup.
.IP "\fBh\fR" 4
.IX Item "h"
The \fBhelp\fR command.  This will display a listing of the commands and their
formats.  It is the same as the \fB?\fR command.
.SH "PLAN COMMANDS"
.IX Header "PLAN COMMANDS"
.IP "\fBa plan\fR \fInode_nbr\fR \fIduct_expression\fR [\fInominal_data_rate\fR]" 4
.IX Item "a plan node_nbr duct_expression [nominal_data_rate]"
The \fBadd plan\fR command.  This command establishes an egress plan for
the bundles that must be transmitted to the neighboring node identified
by \fInode_nbr\fR.  The \fInominal_data_rate\fR is the assumed rate of
transmission to this node in the absence of contact plan information.
A \fInominal_data_rate\fR of zero (the default) in the absence of contact
plan information completely disables rate control.
.Sp
\&\fBNote that the plan commands consumed by ipnadmin are a simplified
shortcut for submitting plan commands as consumed by bpadmin (see \f(BIbprc\fB\|(5)).
The syntax of these commands is \s-1DIFFERENT\s0 from that of the more general
and more powerful bpadmin commands.\fR
.IP "\fBc plan\fR \fInode_nbr\fR \fInominal_data_rate\fR" 4
.IX Item "c plan node_nbr nominal_data_rate"
The \fBchange plan\fR command.  This command changes the nominal data rate
for the indicated plan.
.IP "\fBd plan\fR \fInode_nbr\fR" 4
.IX Item "d plan node_nbr"
The \fBdelete plan\fR command.  This command deletes the egress plan
for the node identified by \fInode_nbr\fR.
.IP "\fBi plan\fR \fInode_nbr\fR" 4
.IX Item "i plan node_nbr"
This command will print information about the egress plan for the node
identified by \fInode_nbr\fR.
.IP "\fBl plan\fR" 4
.IX Item "l plan"
This command lists all egress plans established in the \s-1IPN\s0 database for the
local node.
.SH "EXIT COMMANDS"
.IX Header "EXIT COMMANDS"
.IP "\fBa exit\fR \fIfirst_node_nbr\fR \fIlast_node_nbr\fR \fIgateway_endpoint_ID\fR" 4
.IX Item "a exit first_node_nbr last_node_nbr gateway_endpoint_ID"
The \fBadd exit\fR command.  This command establishes an \*(L"exit\*(R" for static 
default routing as described above.
.IP "\fBc exit\fR \fIfirst_node_nbr\fR \fIlast_node_nbr\fR \fIgateway_endpoint_ID\fR" 4
.IX Item "c exit first_node_nbr last_node_nbr gateway_endpoint_ID"
The \fBchange exit\fR command.  This command changes the gateway node
number for the exit identified by \fIfirst_node_nbr\fR and \fIlast_node_nbr\fR .
.IP "\fBd exit\fR \fIfirst_node_nbr\fR \fIlast_node_nbr\fR" 4
.IX Item "d exit first_node_nbr last_node_nbr"
The \fBdelete exit\fR command.  This command deletes the exit identified
by \fIfirst_node_nbr\fR and \fIlast_node_nbr\fR.
.IP "\fBi exit\fR \fIfirst_node_nbr\fR \fIlast_node_nbr\fR" 4
.IX Item "i exit first_node_nbr last_node_nbr"
This command will print information (the gateway endpoint \s-1ID\s0) about the
exit identified by \fIfirst_node_nbr\fR and \fIlast_node_nbr\fR.
.IP "\fBl exit\fR" 4
.IX Item "l exit"
This command lists all exits defined in the \s-1IPN\s0 database for the local node.
.SH "OVERRIDE COMMANDS"
.IX Header "OVERRIDE COMMANDS"
.IP "\fBa rtovrd\fR \fIdata_label\fR \fIdest_node_nbr\fR \fIsource_node_nbr\fR \fIneighbor\fR" 4
.IX Item "a rtovrd data_label dest_node_nbr source_node_nbr neighbor"
The \fBadd rtovrd\fR command.  This command cause bundles characterized by
\&\fIdata_label\fR, \fIdest_node_nbr\fR (\*(L"all other destinations\*(R" if this node
number is zero) and \fIsource_node_nbr\fR (\*(L"all other sources\*(R" if this node
number is zero) to be forwarded to \fIneighbor\fR.  If \fIneighbor\fR is zero,
the override will be \*(L"learned\*(R" by \s-1ION:\s0 the neighbor selected for this
bundle, by whatever means, becomes the override for all subsequent matching
bundles.
.IP "\fBc rtovrd\fR \fIdata_label\fR \fIdest_node_nbr\fR \fIsource_node_nbr\fR \fIneighbor\fR" 4
.IX Item "c rtovrd data_label dest_node_nbr source_node_nbr neighbor"
The \fBchange rtovrd\fR command.  This command changes the override neighbor
for the override identified by \fIdata_label\fR, \fIdest_node_nbr\fR, and
\&\fIsource_node_nbr\fR.  To cause \s-1ION\s0 to forget the override, use \-1 as
\&\fIneighbor\fR.
.IP "\fBa cosovrd\fR \fIdata_label\fR \fIdest_node_nbr\fR \fIsource_node_nbr\fR \fIpriority\fR \fIordinal\fR" 4
.IX Item "a cosovrd data_label dest_node_nbr source_node_nbr priority ordinal"
The \fBadd cosovrd\fR command.  This command cause bundles characterized by
\&\fIdata_label\fR, \fIdest_node_nbr\fR (\*(L"all other destinations\*(R" if this node
number is zero) and \fIsource_node_nbr\fR (\*(L"all other sources\*(R" if this node
number is zero) to have their effective class of service (priority and
ordinal) changed as noted.
.IP "\fBc cosovrd\fR \fIdata_label\fR \fIdest_node_nbr\fR \fIsource_node_nbr\fR \fIpriority\fR \fIordinal\fR" 4
.IX Item "c cosovrd data_label dest_node_nbr source_node_nbr priority ordinal"
The \fBchange cosovrd\fR command.  This command changes the override priority
and ordinal for the override identified by \fIdata_label\fR, \fIdest_node_nbr\fR,
and \fIsource_node_nbr\fR.  To cause \s-1ION\s0 to forget the override, use \-1 as
\&\fIpriority\fR.
.IP "\fBd ovrd\fR \fIdata_label\fR \fIdest_node_nbr\fR \fIsource_node_nbr\fR" 4
.IX Item "d ovrd data_label dest_node_nbr source_node_nbr"
The \fBdelete override\fR command.  This command deletes all overrides identified
by \fIdata_label\fR, \fIdest_node_nbr\fR, and \fIsource_node_nbr\fR.
.IP "\fBi ovrd\fR \fIdata_label\fR \fIdest_node_nbr\fR \fIsource_node_nbr\fR" 4
.IX Item "i ovrd data_label dest_node_nbr source_node_nbr"
This command will print information for all overrides identified
by \fIdata_label\fR, \fIdest_node_nbr\fR, and \fIsource_node_nbr\fR.
.IP "\fBl ovrd\fR" 4
.IX Item "l ovrd"
This command lists all overrides defined in the \s-1IPN\s0 database for the local node.
.SH "EXAMPLES"
.IX Header "EXAMPLES"
.IP "a plan 18 ltp/18" 4
.IX Item "a plan 18 ltp/18"
Declares the egress plan to use for transmission from the local node to
neighboring node 18.  By default, any bundle for which the computed \*(L"next
hop\*(R" node is node 18 will be queued for transmission on \s-1LTP\s0 outduct 18.
.IP "a exit 1 999 dtn://stargate" 4
.IX Item "a exit 1 999 dtn://stargate"
Declares a default route for bundles destined for all nodes whose numbers
are in the range 1 through 999 inclusive: absent any other routing decision,
such bundles are to be forwarded to \*(L"dtn://stargate\*(R".
.SH "SEE ALSO"
.IX Header "SEE ALSO"
\&\fIipnadmin\fR\|(1)
