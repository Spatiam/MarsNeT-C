.\" Automatically generated by Pod::Man 2.27 (Pod::Simple 3.28)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
.    ds C`
.    ds C'
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.\"
.\" Avoid warning from groff about undefined register 'F'.
.de IX
..
.nr rF 0
.if \n(.g .if rF .nr rF 1
.if (\n(rF:(\n(.g==0)) \{
.    if \nF \{
.        de IX
.        tm Index:\\$1\t\\n%\t"\\$2"
..
.        if !\nF==2 \{
.            nr % 0
.            nr F 2
.        \}
.    \}
.\}
.rr rF
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "RAMSGATE 1"
.TH RAMSGATE 1 "2020-09-15" "perl v5.16.3" "AMS executables"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "NAME"
ramsgate \- Remote AMS gateway daemon
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
\&\fBramsgate\fR \fIapplication_name\fR \fIauthority_name\fR [\fIbundles_TTL\fR]
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
\&\fBramsgate\fR is a background \*(L"daemon\*(R" task that functions as a Remote \s-1AMS\s0
gateway.  \fIapplication_name\fR and \fIauthority_name\fR must identify an \s-1AMS\s0
venture that is known to operate in the local continuum, as noted in the
\&\s-1MIB\s0 for the \fBramsgate\fR application module.
.PP
\&\fBramsgate\fR will register as an application module in the root unit of
the indicated venture, so a configuration server for the local continuum
and a registrar for the root unit of the indicated venture (which may
both be instantiated in a single \fBamsd\fR daemon task) must be running
in order for \fBramsgate\fR to commence operations.
.PP
\&\fBramsgate\fR with communicate with other \s-1RAMS\s0 gateway modules in other
continua by means of the \s-1RAMS\s0 network protocol noted in the \s-1RAMS\s0 gateway
endpoint \s-1ID\s0 for the local continuum, as identified (explicitly or implicitly)
in the \s-1MIB.\s0
.PP
If the \s-1RAMS\s0 network protocol is \*(L"bp\*(R" (i.e., the \s-1DTN\s0 Bundle Protocol), then
an \s-1ION\s0 Bundle Protocol node must be operating on the local computer and that
node must be registered in the \s-1BP\s0 endpoint identified by the \s-1RAMS\s0 gateway
endpoint \s-1ID\s0 for the local continuum.  Moreover, in this case the value of
\&\fIbundles_TTL\fR \- if specified \- will be taken as the lifetime in seconds that
is to be declared for all \*(L"bundles\*(R" issued by \fBramsgate\fR; \fIbundles_TTL\fR
defaults to 86400 seconds (one day) if omitted.
.SH "EXIT STATUS"
.IX Header "EXIT STATUS"
.ie n .IP """0""" 4
.el .IP "``0''" 4
.IX Item "0"
\&\fBramsgate\fR terminated normally.
.ie n .IP """1""" 4
.el .IP "``1''" 4
.IX Item "1"
\&\fBramsgate\fR failed, for reasons noted in the ion.log file; the task
terminated.
.SH "FILES"
.IX Header "FILES"
A \s-1MIB\s0 initialization file with the applicable default name (see \fIamsrc\fR\|(5))
must be present.
.PP
\&\fBramsgate\fR records all \*(L"petitions\*(R" (requests for data on behalf of \s-1AMS\s0
modules in other continua) in a file named \*(L"petition.log\*(R".  At startup,
the \fBramsgate\fR daemon automatically reads and processes all petitions
in the petition.log file just as if they were received in real time.  \fBNote\fR
that this means that you can cause petitions to be, in effect, \*(L"pre-received\*(R"
by simply editing this file prior to startup.  This can be an especially
effective way to configure a \s-1RAMS\s0 network in which long signal propagation
times would otherwise retard real-time petitioning and thus delay the onset
of fully functional message exchange.
.SH "ENVIRONMENT"
.IX Header "ENVIRONMENT"
No environment variables apply.
.SH "DIAGNOSTICS"
.IX Header "DIAGNOSTICS"
The following diagnostics may be issued to the \fBion.log\fR log file:
.IP "ramsgate can't run." 4
.IX Item "ramsgate can't run."
\&\s-1RAMS\s0 gateway functionality failed, for reasons noted in the ion.log file.
.SH "BUGS"
.IX Header "BUGS"
Note that the \s-1AMS\s0 design principle of receiving messages immediately and
enqueuing them for eventual ingestion by the application module \- rather
than imposing application-layer flow control on \s-1AMS\s0 message traffic \- enables
high performance but makes \fBramsgate\fR vulnerable to message spikes.  Since
production and transmission of bundles is typically slower than \s-1AMS\s0 message
reception over \s-1TCP\s0 service, the \s-1ION\s0 working memory and/or heap space available
for \s-1AMS\s0 event insertion and/or bundle production can be quickly exhausted if
a high rate of application message production is sustained for a long enough
time.  Mechanisms for defending against this sort of failure are under study,
but for now the best mitigations are simply to (a) build with compiler option
\&\-DAMS_INDUSTRIAL=1, (b) allocate as much space as possible to \s-1ION\s0 working
memory and \s-1SDR\s0 heap (see \fIionconfig\fR\|(5)) and (c) limit the rate of \s-1AMS\s0 message
issuance.
.PP
Report bugs to <ion\-dtn\-support@lists.sourceforge.net>
.SH "SEE ALSO"
.IX Header "SEE ALSO"
\&\fIamsrc\fR\|(5), \fIpetition_log\fR\|(5)
