.\" Automatically generated by Pod::Man 2.27 (Pod::Simple 3.28)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
.    ds C`
.    ds C'
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.\"
.\" Avoid warning from groff about undefined register 'F'.
.de IX
..
.nr rF 0
.if \n(.g .if rF .nr rF 1
.if (\n(rF:(\n(.g==0)) \{
.    if \nF \{
.        de IX
.        tm Index:\\$1\t\\n%\t"\\$2"
..
.        if !\nF==2 \{
.            nr % 0
.            nr F 2
.        \}
.    \}
.\}
.rr rF
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "AMSD 1"
.TH AMSD 1 "2020-09-24" "perl v5.16.3" "AMS executables"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "NAME"
amsd \- AMS configuration server and/or registrar daemon
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
\&\fBamsd\fR { @ | \fIMIB_source_name\fR } { . | @ | \fIconfig_server_endpoint_spec\fR } [\fIapplication_name\fR \fIauthority_name\fR \fIregistrar_unit_name\fR]
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
\&\fBamsd\fR is a background \*(L"daemon\*(R" task that functions as an \s-1AMS \s0\*(L"configuration
server\*(R" in the local continuum, as an \s-1AMS \s0\*(L"registrar\*(R" in a specified cell,
or both.
.PP
If \fIMIB_source_name\fR is specified, it must name a \s-1MIB\s0 initialization file
in the correct format for \fBamsd\fR, either \fIamsrc\fR\|(5) or \fIamsxml\fR\|(5), depending on
whether or not \-DNOEXPAT was set at compile time.  Otherwise \fB@\fR is required;
in this case, the built-in default \s-1MIB\s0 is loaded.
.PP
If this \fBamsd\fR task is \fB\s-1NOT\s0\fR to run as a configuration server then the
second command-line argument must be a '.' character.  Otherwise the second
command-line argument must be either '@' or \fIconfig_server_endpoint_spec\fR.
If '@' then the endpoint specification for this configuration server is
automatically computed as the default endpoint specification for the primary
transport service as noted in the \s-1MIB: "\s0\fIhostname\fR:2357".
.PP
If an \s-1AMS\s0 module is \fB\s-1NOT\s0\fR to be run in a background thread for this daemon
(enabling shutdown by \fIamsstop\fR\|(1) and/or runtime \s-1MIB\s0 update by \fIamsmib\fR\|(1)), 
then either the last three command-line arguments must be omitted or else the
\&\*(L"amsd\*(R" role must not be defined in the \s-1MIB\s0 loaded for this daemon.  Otherwise
the \fIapplication_name\fR and \fIauthority_name\fR arguments are required and
the \*(L"amsd\*(R" role must be defined in the \s-1MIB.\s0
.PP
If this \fBamsd\fR task is \fB\s-1NOT\s0\fR to run as a registrar then the last
command-line argument must be omitted.  Otherwise the last three command-line
arguments are required and they must identify a unit in an \s-1AMS\s0 venture for
the indicated application and authority that is known to operate in the local
continuum, as noted in the \s-1MIB. \s0 Note that the unit name for the \*(L"root unit\*(R"
of a venture is the zero-length string "".
.SH "EXIT STATUS"
.IX Header "EXIT STATUS"
.ie n .IP """0""" 4
.el .IP "``0''" 4
.IX Item "0"
\&\fBamsd\fR terminated without error.
.IP "\-1" 4
.IX Item "-1"
\&\fBamsd\fR terminated due to an anomaly as noted in the \fBion.log\fR file.  If this
termination was not commanded, investigate and solve the problem identified
in the log file and restart \fBamsd\fR.
.SH "FILES"
.IX Header "FILES"
If \fI\s-1MIB\s0 source name\fR is specified, then a file of this name must be present.
Otherwise a \s-1MIB\s0 initialization file with the applicable default name (see
\&\fIamsrc\fR\|(5)) must be present.
.SH "ENVIRONMENT"
.IX Header "ENVIRONMENT"
No environment variables apply.
.SH "DIAGNOSTICS"
.IX Header "DIAGNOSTICS"
The following diagnostics may be issued to the \fBion.log\fR log file:
.IP "amsd can't load \s-1MIB.\s0" 4
.IX Item "amsd can't load MIB."
\&\s-1MIB\s0 initialization file was missing, unreadable, or invalid.
.IP "amsd can't start \s-1CS.\s0" 4
.IX Item "amsd can't start CS."
Configuration server initialization failed for reasons noted in ion.log file.
.IP "amsd can't start \s-1RS.\s0" 4
.IX Item "amsd can't start RS."
Registrar initialization failed for reasons noted in ion.log file.
.SH "BUGS"
.IX Header "BUGS"
Report bugs to <ion\-dtn\-support@lists.sourceforge.net>
.SH "SEE ALSO"
.IX Header "SEE ALSO"
\&\fIamsmib\fR\|(1), \fIamsstop\fR\|(1), \fIamsrc\fR\|(5), \fIamsxml\fR\|(5)
